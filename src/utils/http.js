const Promise = require('es6-promise').Promise;const HOST = 'https://shouyin.kuaimai.com';/** *@method WXGET *@param method url params *@return Promise */const wxrequest = (method,url,params)=>{    let extendParams = Object.assign({        companyId: wx.getStorageSync('companyId') || '',        shopId: wx.getStorageSync('shopId')    }, params||{});    return new Promise((resolve,reject)=>{        wx.request({            url: HOST + url,            data: extendParams,            method: method,            header: {                'content-type': 'application/x-www-form-urlencoded',                'cookie': wx.getStorageSync('cookie') || '',                'lc':'wxmp',                'mobile':wx.getStorageSync('loginMobile') || ''            },            success: function (res) {                if (res.data.result === 600) {                    wx.redirectTo({                        url: loginUrl,                        fail: function () {                            wx.redirectTo({                                url: '../../../login/index'                            })                        }                    });                } else {                    resolve(res.data.message)                }            },            fail: function () {                reject('网络异常，请先检查网络')            }        })    })};export default wxrequest;